# 💕 私密情侣网站功能需求文档

## 📋 项目概述

打造一个**私密性**情侣纪念网站，通过每日随机问题验证确保只有你们两人能访问，配备完整的管理员后台系统。

---

## 🔐 核心功能需求

### 1. 访问验证系统

#### 问题验证机制
- **每日随机问题**：每天0点自动切换验证问题
- **问题类型**：情侣私密问题（初次见面地点、纪念日、宠物名字等）
- **验证方式**：输入正确答案后获得24小时访问权限
- **失败机制**：连续3次错误答案锁定1小时
- **绕过机制**：管理员密钥可直接进入

#### 安全特性
- 答案不区分大小写
- 支持模糊匹配（去除空格、标点符号）
- 浏览器本地存储验证状态
- 验证页面美观设计（情侣主题）

### 2. 管理员后台系统

#### 管理员登录
- **独立管理页面**：`/admin` 路径访问
- **管理员密码**：独立的强密码验证
- **会话管理**：登录后30分钟有效期

#### 问题库管理
```
📝 问题管理界面
├── 添加新问题
│   ├── 问题内容输入框
│   ├── 标准答案输入框
│   ├── 备用答案（多个）
│   └── 难度等级选择
├── 问题列表展示
│   ├── 分页显示
│   ├── 搜索功能
│   ├── 编辑/删除按钮
│   └── 启用/禁用状态
├── 问题统计
│   ├── 总问题数量
│   ├── 各难度分布
│   └── 使用频率统计
└── 批量操作
    ├── 批量导入（JSON格式）
    ├── 批量导出
    └── 批量删除
```

#### 图片管理系统
```
🖼️ 图床管理界面
├── 图片上传
│   ├── 拖拽上传支持
│   ├── 批量上传
│   ├── 图片预览
│   └── 自动分类（按日期/事件）
├── 图片库浏览
│   ├── 网格/列表视图切换
│   ├── 图片搜索（按标签/日期）
│   ├── 图片信息编辑
│   └── 图片删除确认
├── 相册管理
│   ├── 创建相册分类
│   ├── 图片归类整理
│   ├── 相册封面设置
│   └── 相册排序
└── 图床设置
    ├── 图床服务选择（七牛/腾讯云/阿里云）
    ├── API密钥配置
    └── 上传限制设置
```

#### 内容管理
```
📄 内容管理中心
├── 时光轴管理
│   ├── 添加重要时刻
│   ├── 编辑事件描述
│   ├── 设置事件图片
│   └── 时间线排序
├── 留言管理
│   ├── 查看所有留言
│   ├── 留言审核（如需要）
│   ├── 留言删除
│   └── 留言导出
├── 每日情话管理
│   ├── 情话库编辑
│   ├── 添加新情话
│   ├── 情话分类
│   └── 显示频率设置
└── 纪念日管理
    ├── 添加重要纪念日
    ├── 倒计时设置
    ├── 提醒功能配置
    └── 纪念日描述编辑
```

### 3. 数据管理

#### 数据存储方案
- **本地存储**：用户验证状态、偏好设置
- **云端存储**：图片资源、管理数据
- **配置文件**：问题库、系统设置（JSON格式）

#### 数据备份
- **自动备份**：每周自动备份所有数据
- **手动备份**：管理员一键导出所有数据
- **数据恢复**：从备份文件恢复数据功能

---

## 🎨 界面设计需求

### 验证页面设计
```
🔐 验证页面布局
├── 浪漫背景（渐变+飘心动画）
├── 居中验证卡片
│   ├── 今日问题显示
│   ├── 答案输入框
│   ├── 提交按钮
│   └── 错误提示区域
├── 页面底部
│   ├── "忘记答案？" 提示
│   └── 管理员入口（隐藏链接）
└── 移动端适配
```

### 管理后台设计
```
⚙️ 管理后台布局
├── 侧边栏导航
│   ├── 仪表盘
│   ├── 问题管理
│   ├── 图片管理
│   ├── 内容管理
│   ├── 系统设置
│   └── 退出登录
├── 主内容区
│   ├── 面包屑导航
│   ├── 功能区域
│   └── 操作按钮组
├── 顶部工具栏
│   ├── 快速搜索
│   ├── 通知中心
│   └── 用户信息
└── 响应式设计（支持手机管理）
```

---

## 🛠️ 技术实现方案

### 前端技术栈
- **框架**：纯JavaScript（轻量化）
- **样式**：CSS3 + 动画效果
- **图标**：Font Awesome 或 Emoji
- **响应式**：CSS Grid + Flexbox

### 数据存储方案
- **问题库**：JSON文件（可编辑）
- **用户验证**：localStorage + sessionStorage
- **图片管理**：图床API + 本地索引
- **配置文件**：config.json（管理员可编辑）

### 图床集成
```javascript
支持的图床服务：
├── 七牛云存储
├── 腾讯云COS
├── 阿里云OSS
├── 又拍云
└── GitHub（免费方案）
```

### 安全机制
- **问题加密**：Base64编码存储
- **答案验证**：SHA256哈希对比
- **访问限制**：IP频率限制
- **管理员验证**：JWT Token机制

---

## 📊 预设数据示例

### 问题库示例
```json
{
  "questions": [
    {
      "id": 1,
      "question": "我们第一次见面是在哪里？",
      "answers": ["咖啡厅", "星巴克", "那家咖啡店"],
      "difficulty": "easy",
      "category": "初识"
    },
    {
      "id": 2,
      "question": "我们的恋爱纪念日是哪一天？",
      "answers": ["2024-02-14", "2月14日", "情人节"],
      "difficulty": "medium",
      "category": "重要日期"
    }
  ]
}
```

### 管理员配置示例
```json
{
  "admin": {
    "username": "admin",
    "password_hash": "sha256_hash_here",
    "session_timeout": 1800
  },
  "security": {
    "max_attempts": 3,
    "lockout_duration": 3600,
    "daily_question_refresh": "00:00"
  },
  "image_config": {
    "provider": "qiniu",
    "max_size": "10MB",
    "allowed_formats": ["jpg", "png", "gif", "webp"]
  }
}
```

---

## 🚀 开发优先级

### Phase 1 - 核心功能（第1周）
1. ✅ 问题验证系统
2. ✅ 管理员登录界面
3. ✅ 基础问题管理功能

### Phase 2 - 管理功能（第2周）
1. 🔲 完整的管理后台UI
2. 🔲 图片管理系统
3. 🔲 内容管理功能

### Phase 3 - 优化完善（第3周）
1. 🔲 数据导入导出
2. 🔲 移动端优化
3. 🔲 性能优化

---

## 💡 额外建议

### 可选增强功能
- 📊 访问统计（成功/失败次数）
- 🎵 验证成功音效
- 🌙 夜间模式管理界面
- 📱 PWA支持（可安装）
- 🔔 重要日期推送提醒

### 运维考虑
- 定期更换验证问题
- 备份重要数据到多个地方
- 监控异常访问模式
- 定期更新管理员密码

---

**这个方案能满足你的需求吗？需要调整哪些部分？我可以开始实现核心功能！** 🚀